<c-main>
  <c-toolbar>
    <c-csc-logo></c-csc-logo>
    CSC Design System
    <c-spacer></c-spacer>
    <c-navigationbutton></c-navigationbutton>
  </c-toolbar>

  <c-row class="no-margin no-wrap">
    <c-sidenavigation class="autoheight" *ngIf="components.length">
      <c-text-field
        class="mb-4 me-4"
        placeholder="Search for a component"
        shadow
        cControl
        (changeValue)="filterComponents($event)"
      >
        <i class="mdi mdi-magnify" style="margin-left: 12px" slot="pre"></i>
      </c-text-field>

      <div *ngFor="let group of groupedComponents" [class.mb-4]="group.name !== 'ungrouped'">
        <p class="subheader" *ngIf="group.name !== 'ungrouped'">{{ group.name }}</p>
        <c-sidenavigationitem
          *ngFor="let item of group.components"
          [routerLink]="['/' + item.tag]"
          routerLinkActive="active"
          [active]="componentDataService.activeComponent?.tag === item?.tag"
        >
          <div slot="main" class="text-capitalize">{{ item.name }}</div>
          <div slot="subnavitem">
            <c-subnavigationitem
              *ngFor="let child of item.children"
              (click)="showElement(child.tag)"
            >
              {{ child.name }}
            </c-subnavigationitem>
          </div>
        </c-sidenavigationitem>
      </div>
    </c-sidenavigation>

    <c-flex class="container-height">
      <c-container>
        <router-outlet></router-outlet>
      </c-container>
    </c-flex>
  </c-row>
</c-main>
